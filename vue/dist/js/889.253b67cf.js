"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[889],{6889:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=a(3396);const s={key:0,id:"router-root"},u={key:0,id:"blueprint-page-wrap"};function o(t,e,a,o,i,p){const g=(0,n.up)("NavMenu"),d=(0,n.up)("MenuButton");return t.$wpPages?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(g,{toggle:i.menuToggled,onClose:e[0]||(e[0]=t=>p.toggleMenu(!t))},null,8,["toggle"]),i.authenticated?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(d,{onToggle:e[1]||(e[1]=t=>p.toggleMenu(t)),toggleStatus:i.menuToggled,parent:t.$options.name},null,8,["toggleStatus","parent"])])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}a(7658);var i=a(1120),p=a(2498),g=a(6153),d={components:{NavMenu:p.Z,MenuButton:g.Z},name:"PageBlueprint",data(){return{page:{},pageId:0,pageNum:0,pagesCount:0,password:!1,authenticated:!0,menuToggled:!1}},methods:{assignData(){this.pageId=i.Z.currentRoute.value.matched.find((t=>t.path==i.Z.currentRoute.value.path)).props.default.wpPageId,this.page=this.$wpPages.find((t=>t.id==this.pageId)),this.pageNum=this.$route.matched.find((t=>t.path==this.$route.path)).props.default.orderNo,this.pageCount=i.Z.getRoutes().filter((t=>!t.aliasOf&&1==t.props.default.addToMenu)).length},async authenticate(){if(this.password=this.page.content.protected,this.password){this.authenticated=!1;const t=prompt("Please enter the password"),e=`${this.$wpSitePath}/wp-json/wp/v2/pages/${this.pageId}?password=${t}`,a=await fetch(e);a.ok&&t?(this.authenticated=!0,document.title=`${this.page.title.rendered} â€“ ${this.$wpSiteName}`):i.Z.push({name:"NotFound",params:{catchAll:"unauthorized"}})}},toggleMenu(t){this.menuToggled=t}},created(){this.assignData(),this.authenticate()}},r=a(89);const h=(0,r.Z)(d,[["render",o]]);var l=h}}]);
//# sourceMappingURL=889.253b67cf.js.map