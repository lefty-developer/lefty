{"version":3,"file":"js/889.253b67cf.js","mappings":"+KAyEOA,GAAG,e,SAGDA,GAAG,uB,oFAHkBC,EAAAA,WAAQ,WAApCC,EAAAA,EAAAA,IAQM,MARNC,EAQM,EAPJC,EAAAA,EAAAA,IACoDC,EAAAA,CADpCC,OAAQC,EAAAA,YACVC,QAAK,YAAEC,GAASC,EAAAA,YAAYD,K,mBACNF,EAAAA,gBAAa,WAAjDL,EAAAA,EAAAA,IAIM,MAJNS,EAIM,EAHJP,EAAAA,EAAAA,IAEsCQ,EAAAA,CAFrBC,SAAM,YAAEJ,GAASC,EAAAA,WAAWD,IAChCK,aAAcP,EAAAA,YACdQ,OAAQd,EAAAA,SAASe,M,kHAzEpC,GACEC,WAAY,CACVC,QAAO,IACPC,WAAUA,EAAAA,GAEZH,KAAM,gBACNI,OACE,MAAO,CAELC,KAAM,CAAC,EACPC,OAAQ,EACRC,QAAS,EACTC,WAAY,EACZC,UAAU,EACVC,eAAe,EAGfC,aAAa,EAEjB,EACAC,QAAS,CACPC,aAEEC,KAAKR,OAASS,EAAAA,EAAAA,aAAAA,MAAAA,QAAAA,MAAuCC,GACrCA,EAAMC,MAAQF,EAAAA,EAAAA,aAAAA,MAAAA,OACdG,MAAMC,QAAQC,SAG9BN,KAAKT,KAAOS,KAAKO,SAASC,MAAKC,GAAYA,EAASvC,IAAM8B,KAAKR,SAC/DQ,KAAKP,QAAUO,KAAKU,OAAOC,QAAQH,MAAKN,GACvBA,EAAMC,MAAQH,KAAKU,OAAOP,OAAMC,MAAMC,QAAQO,QAC/DZ,KAAKa,UAAYZ,EAAAA,EAAAA,YAAmBa,QAAOC,IAChCA,EAAIC,SAA4C,GAA/BD,EAAIX,MAAMC,QAAQY,YAC3CC,MACL,EACAC,qBAGE,GADAnB,KAAKL,SAAWK,KAAKT,KAAK6B,QAAQC,UAC9BrB,KAAKL,SAAU,CACjBK,KAAKJ,eAAgB,EACrB,MAAM0B,EAAYC,OAAO,6BACnBC,EAAc,GAAGxB,KAAKyB,mCAAqCzB,KAAKR,mBAAqB8B,IAErFI,QAAqBC,MAAMH,GAE7BE,EAAaE,IAAMN,GACrBtB,KAAKJ,eAAgB,EAErBiC,SAASC,MAAS,GAAG9B,KAAKT,KAAKuC,MAAMC,cAAgB/B,KAAKgC,eAE1D/B,EAAAA,EAAAA,KAAY,CAAEf,KAAM,WAAY+C,OAAQ,CAAEC,SAAU,iBAExD,CACF,EAEAC,WAAYxD,GACVqB,KAAKH,YAAclB,CACrB,GAEFyD,UACEpC,KAAKD,aACLC,KAAKqC,cACP,G,QC/DF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vue/./src/components/pages/PageBlueprintPage.vue","webpack://vue/./src/components/pages/PageBlueprintPage.vue?bbe2"],"sourcesContent":["<script>\r\nimport router from '../../router'\r\nimport NavMenu from '../Menu.vue'\r\nimport MenuButton from '../MenuButton.vue'\r\n\r\n\r\nexport default {\r\n  components: {\r\n    NavMenu,\r\n    MenuButton\r\n  },\r\n  name: 'PageBlueprint',\r\n  data () {\r\n    return {\r\n      // WP Page Data\r\n      page: {},\r\n      pageId: 0,\r\n      pageNum: 0,\r\n      pagesCount: 0,\r\n      password: false,\r\n      authenticated: true,\r\n\r\n      // Misc.\r\n      menuToggled: false\r\n    }\r\n  },\r\n  methods: {\r\n    assignData () {\r\n      // assign pageId from dynamically created routes based on WP page data (located at ../../main.js)\r\n      this.pageId = router.currentRoute.value.matched.find(route => \r\n                      route.path == router.currentRoute.value.path\r\n                    ).props.default.wpPageId\r\n\r\n      // assign page data with global WordPress page object (filter pages by id)\r\n      this.page = this.$wpPages.find(pageItem => pageItem.id == this.pageId)\r\n      this.pageNum = this.$route.matched.find(route => \r\n                       route.path == this.$route.path).props.default.orderNo\r\n      this.pageCount = router.getRoutes().filter(obj => { \r\n        return (!obj.aliasOf) && (obj.props.default.addToMenu == true)\r\n      }).length\r\n    },\r\n    async authenticate () {\r\n      // test for password protection\r\n      this.password = this.page.content.protected\r\n      if (this.password) {\r\n        this.authenticated = false\r\n        const userInput = prompt('Please enter the password')\r\n        const unlockPath = `${ this.$wpSitePath }/wp-json/wp/v2/pages/${ this.pageId }?password=${ userInput }`\r\n\r\n        const authResponse = await fetch(unlockPath)\r\n\r\n        if (authResponse.ok && userInput) {\r\n          this.authenticated = true\r\n          // assign page title\r\n          document.title = `${ this.page.title.rendered } â€“ ${ this.$wpSiteName }`\r\n        } else {\r\n          router.push({ name: 'NotFound', params: { catchAll: 'unauthorized' } })\r\n        }\r\n      }\r\n    },\r\n    // communicates between Menu and MenuButton components\r\n    toggleMenu (value) {\r\n      this.menuToggled = value\r\n    } \r\n  },\r\n  created () {\r\n    this.assignData()\r\n    this.authenticate()\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div id='router-root' v-if='$wpPages'>\r\n    <NavMenu v-bind:toggle='menuToggled'\r\n             v-on:close='value => toggleMenu(!value)' />\r\n    <div id='blueprint-page-wrap' v-if='authenticated'>\r\n      <MenuButton v-on:toggle='value => toggleMenu(value)'\r\n            v-bind:toggleStatus='menuToggled'\r\n            v-bind:parent='$options.name' />\r\n    </div>\r\n  </div>\r\n</template>","import { render } from \"./PageBlueprintPage.vue?vue&type=template&id=36a91b40\"\nimport script from \"./PageBlueprintPage.vue?vue&type=script&lang=js\"\nexport * from \"./PageBlueprintPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Brian\\\\Local Sites\\\\leftyvuewp\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","_ctx","_createElementBlock","_hoisted_1","_createVNode","_component_NavMenu","toggle","$data","onClose","value","$options","_hoisted_2","_component_MenuButton","onToggle","toggleStatus","parent","name","components","NavMenu","MenuButton","data","page","pageId","pageNum","pagesCount","password","authenticated","menuToggled","methods","assignData","this","router","route","path","props","default","wpPageId","$wpPages","find","pageItem","$route","matched","orderNo","pageCount","filter","obj","aliasOf","addToMenu","length","async","content","protected","userInput","prompt","unlockPath","$wpSitePath","authResponse","fetch","ok","document","title","rendered","$wpSiteName","params","catchAll","toggleMenu","created","authenticate","__exports__","render"],"sourceRoot":""}